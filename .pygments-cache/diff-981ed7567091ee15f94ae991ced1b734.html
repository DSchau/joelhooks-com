<div class="highlight"><pre>import {fetchImages} from &#39;./flickr&#39;;
import {put, take, fork} from &#39;redux-saga/effects&#39;;

export function* loadImages() {
<span class="gi">+  try {</span>
    const images = yield fetchImages();
    yield put({type: &#39;IMAGES_LOADED&#39;, images})
    yield put({type: &#39;IMAGE_SELECTED&#39;, image: images[0]})
<span class="gi">+  } catch(error) {</span>
<span class="gi">+    yield put({type: &#39;IMAGE_LOAD_FAILURE&#39;, error})</span>
<span class="gi">+  }</span>
}

export function* watchForLoadImages() {
  while(true) {
    yield take(&#39;LOAD_IMAGES&#39;);
    yield fork(loadImages);
  }
}
</pre></div>