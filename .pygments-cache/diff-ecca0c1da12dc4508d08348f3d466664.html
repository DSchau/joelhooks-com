<div class="highlight"><pre>import React, {Component} from &#39;react&#39;
import {connect} from &#39;react-redux&#39;;

export class Gallery extends Component {
  constructor(props) {
    super(props);
    this.props.dispatch({type: &#39;TEST&#39;});
<span class="gi">+    console.log(props);</span>
<span class="gd">-    this.state = {</span>
<span class="gd">-      images: []</span>
<span class="gd">-    }</span>
  }
<span class="gd">-  componentDidMount() {</span>
<span class="gd">-    const API_KEY = &#39;a46a979f39c49975dbdd23b378e6d3d5&#39;;</span>
<span class="gd">-    const API_ENDPOINT = `https://api.flickr.com/services/rest/?method=flickr.interestingness.-getList&amp;api_key=${API_KEY}&amp;format=json&amp;nojsoncallback=1&amp;per_page=5`;-</span>
<span class="gd">-</span>
<span class="gd">-    fetch(API_ENDPOINT).then((response) =&gt; {</span>
<span class="gd">-      return response.json().then((json) =&gt; {</span>
<span class="gd">-        const images = json.photos.photo.map(({farm, server, id, secret}) =&gt; { </span>
<span class="gd">-            return `https://farm${farm}.staticflickr.com/${server}/${id}_${secret}.jpg`</span>
<span class="gd">-        });</span>
<span class="gd">-</span>
<span class="gd">-        this.setState({images, selectedImage: images[0]});</span>
<span class="gd">-      })</span>
<span class="gd">-    })</span>
<span class="gd">-  }</span>
<span class="gd">-  handleThumbClick(selectedImage) {</span>
<span class="gd">-    this.setState({</span>
<span class="gd">-      selectedImage</span>
<span class="gd">-    })</span>
<span class="gd">-  }</span>
  render() {
<span class="gd">-    const {images, selectedImage} = this.state;</span>
<span class="gi">+    const {images, selectedImage} = this.props;</span>
    return (
      &lt;div className=&quot;image-gallery&quot;&gt;
        &lt;div className=&quot;gallery-image&quot;&gt;
          &lt;div&gt;
            &lt;img src={selectedImage} /&gt;
          &lt;/div&gt;
        &lt;/div&gt;
        &lt;div className=&quot;image-scroller&quot;&gt;
          {images.map((image, index) =&gt; (
<span class="gd">-            &lt;div key={index} onClick={this.handleThumbClick.bind(this,image)}&gt;</span>
<span class="gi">+            &lt;div key={index}&gt;</span>
              &lt;img src={image}/&gt;
            &lt;/div&gt;
          ))}
        &lt;/div&gt;
      &lt;/div&gt;
    )
  }
}

<span class="gi">+function mapStateToProps(state) {</span>
<span class="gi">+  return {</span>
<span class="gi">+    images: state.images</span>
<span class="gi">+    selectedImage: state.selectedImage</span>
<span class="gi">+  }</span>
<span class="gi">+}</span>

<span class="gd">-export default connect()(Gallery)</span>
<span class="gi">+export default connect(mapStateToProps)(Gallery)</span>
</pre></div>