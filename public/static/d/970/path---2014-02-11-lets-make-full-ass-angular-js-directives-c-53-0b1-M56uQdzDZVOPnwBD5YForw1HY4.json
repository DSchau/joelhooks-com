{"data":{"site":{"siteMetadata":{"title":"The blog of Joel Hooks","description":"This is where I post my things.","author":"Joel Hooks","keywords":["Video Blogger"]}},"mdx":{"frontmatter":{"title":"Let's Make Full-Ass AngularJS Directives","date":"Invalid date","banner":null,"slug":null,"categories":null,"keywords":null},"code":{"body":"function _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nreturn ((_ref) => {\n  let {\n    components\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return React.createElement(MDXTag, {\n    name: \"wrapper\",\n    components: components\n  }, React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, React.createElement(MDXTag, {\n    name: \"em\",\n    components: components,\n    parentName: \"p\"\n  }, `With best intentions we set forth to create the mighty directive. The steepest slope of the dreaded AngularJS learning curve.`)), React.createElement(MDXTag, {\n    name: \"h3\",\n    components: components\n  }, `The \"place where the jQuery goes.\"`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `So what is a directive? We've `, React.createElement(MDXTag, {\n    name: \"a\",\n    components: components,\n    parentName: \"p\",\n    props: {\n      \"href\": \"http://www.joelhooks.com/blog/2013/07/27/using-angularjs-stop-using-jquery-as-a-crutch/\"\n    }\n  }, `talked about this before`), `, and decided that they are `, React.createElement(MDXTag, {\n    name: \"strong\",\n    components: components,\n    parentName: \"p\"\n  }, `not`), ` where the jQuery goes... usually... if you `, React.createElement(MDXTag, {\n    name: \"strong\",\n    components: components,\n    parentName: \"p\"\n  }, `are`), ` going to use jQuery, directives are `, React.createElement(MDXTag, {\n    name: \"strong\",\n    components: components,\n    parentName: \"p\"\n  }, `definitely`), ` where it should go.`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `It's easy to say \"OMG, NO JQUERY\" - but what does that actually mean? What does a `, React.createElement(MDXTag, {\n    name: \"strong\",\n    components: components,\n    parentName: \"p\"\n  }, `really kickass directive`), ` look like?`), React.createElement(MDXTag, {\n    name: \"h3\",\n    components: components\n  }, `The Anatomy of a Good Directive.`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `The `, React.createElement(MDXTag, {\n    name: \"a\",\n    components: components,\n    parentName: \"p\",\n    props: {\n      \"href\": \"https://github.com/angular-ui/bootstrap\"\n    }\n  }, `ui-bootstrap`), ` library is the best singular resource on what a good directive should look like. They are solving multiple common problems in varied ways, with generally solid patterns and practices. It's a robust open-source project, with a constant flurry of activity.`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `When you start to dig through the library's src, you can see how many different styles and solutions have solved the various problem. Some are extremely complex, while some are relatively simple.`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `While the solutions `, React.createElement(MDXTag, {\n    name: \"strong\",\n    components: components,\n    parentName: \"p\"\n  }, `are`), ` varied, there are also some common traits the ui-boostrap directives share across the library.`), React.createElement(MDXTag, {\n    name: \"h4\",\n    components: components\n  }, `Minimal use of the link function`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `How many of your project's link functions contain `, React.createElement(MDXTag, {\n    name: \"strong\",\n    components: components,\n    parentName: \"p\"\n  }, `all the things`), `?`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, React.createElement(MDXTag, {\n    name: \"em\",\n    components: components,\n    parentName: \"p\"\n  }, `me: raises guilt hand sheepishly`)), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `Down and dirty, just toss it in the `, React.createElement(\"code\", {\n    className: \"language-text\"\n  }, \"link\"), ` function.`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `When you start to browse the ui-bootstrap code, pay attention to the `, React.createElement(\"code\", {\n    className: \"language-text\"\n  }, \"link\"), ` functions on the directives themselves.`), React.createElement(MDXTag, {\n    name: \"h5\",\n    components: components\n  }, `dropdown`), React.createElement(\"div\", {\n    className: \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, React.createElement(\"pre\", {\n    className: \"language-javascript\"\n  }, React.createElement(\"code\", {\n    className: \"language-javascript\"\n  }, React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(\"span\", {\n    className: \"token function\"\n  }, \"directive\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), React.createElement(\"span\", {\n    className: \"token string\"\n  }, \"'dropdown'\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \",\"), \" \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"function\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"{\"), \"\\n\", \"  \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"return\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"{\"), \"\\n\", \"    \", \"restrict\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \":\"), \" \", React.createElement(\"span\", {\n    className: \"token string\"\n  }, \"'CA'\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \",\"), \"\\n\", \"    \", \"controller\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \":\"), \" \", React.createElement(\"span\", {\n    className: \"token string\"\n  }, \"'DropdownController'\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \",\"), \"\\n\", \"    \", \"scope\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \":\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"{\"), \"\\n\", \"      \", \"isOpen\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \":\"), \" \", React.createElement(\"span\", {\n    className: \"token string\"\n  }, \"'=?'\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \",\"), \"\\n\", \"      \", \"onToggle\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \":\"), \" \", React.createElement(\"span\", {\n    className: \"token string\"\n  }, \"'&'\"), \"\\n\", \"    \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"}\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \",\"), \"\\n\", \"    \", \"link\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \":\"), \" \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"function\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), \"scope\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \",\"), \" element\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \",\"), \" attrs\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \",\"), \" dropdownCtrl\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"{\"), \"\\n\", \"      \", \"dropdownCtrl\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(\"span\", {\n    className: \"token function\"\n  }, \"init\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), \" element \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"    \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"}\"), \"\\n\", \"  \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"}\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"}\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\")))), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `The `, React.createElement(MDXTag, {\n    name: \"strong\",\n    components: components,\n    parentName: \"p\"\n  }, `Dropdown`), ` directive has a link function, but its sole purpose in life is to associate the directive with a controller.`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, React.createElement(MDXTag, {\n    name: \"strong\",\n    components: components,\n    parentName: \"p\"\n  }, `This is a good thing`)), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `Why? Well, to be honest, directives can be a real pain in the ass to unit test. How do you make a directive easy to unit test? Don't give it any functionality.`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `Controllers, on the other hand, are easy to unit test, so we can avoid the headache of even thinking about unit testing a directive by offloading the logical bits to a controller.`), React.createElement(MDXTag, {\n    name: \"h4\",\n    components: components\n  }, `The directive's controller`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `What does it look like? Basically, it looks like a normal controller.`), React.createElement(MDXTag, {\n    name: \"h5\",\n    components: components\n  }, `DropdownController`), React.createElement(\"div\", {\n    className: \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, React.createElement(\"pre\", {\n    className: \"language-javascript\"\n  }, React.createElement(\"code\", {\n    className: \"language-javascript\"\n  }, React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(\"span\", {\n    className: \"token function\"\n  }, \"controller\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), React.createElement(\"span\", {\n    className: \"token string\"\n  }, \"'DropdownController'\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \",\"), \" \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"function\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), \"$scope\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \",\"), \" $attrs\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \",\"), \" dropdownConfig\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \",\"), \" dropdownService\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \",\"), \" $animate\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"{\"), \"\\n\", \"  \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"var\"), \" self \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"=\"), \" \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"this\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \",\"), \" openClass \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"=\"), \" dropdownConfig\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), \"openClass\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"\\n\", \"  \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"this\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(\"span\", {\n    className: \"token function-variable function\"\n  }, \"init\"), \" \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"=\"), \" \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"function\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), \" element \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"{\"), \"\\n\", \"    \", \"self\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), \"$element \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"=\"), \" element\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"    \", \"$scope\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), \"isOpen \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"=\"), \" angular\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(\"span\", {\n    className: \"token function\"\n  }, \"isDefined\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), \"$attrs\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), \"isOpen\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), \" \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"?\"), \" $scope\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), \"$parent\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(\"span\", {\n    className: \"token function\"\n  }, \"$eval\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), \"$attrs\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), \"isOpen\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \":\"), \" \", React.createElement(\"span\", {\n    className: \"token boolean\"\n  }, \"false\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"  \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"}\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"\\n\", \"  \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"this\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(\"span\", {\n    className: \"token function-variable function\"\n  }, \"toggle\"), \" \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"=\"), \" \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"function\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), \" open \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"{\"), \"\\n\", \"    \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"return\"), \" $scope\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), \"isOpen \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"=\"), \" arguments\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), \"length \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"?\"), \" \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"!\"), React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"!\"), \"open \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \":\"), \" \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"!\"), \"$scope\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), \"isOpen\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"  \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"}\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"\\n\", \"  \", React.createElement(\"span\", {\n    className: \"token comment\"\n  }, \"// Allow other directives to watch status\"), \"\\n\", \"  \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"this\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(\"span\", {\n    className: \"token function-variable function\"\n  }, \"isOpen\"), \" \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"=\"), \" \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"function\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"{\"), \"\\n\", \"    \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"return\"), \" $scope\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), \"isOpen\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"  \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"}\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"\\n\", \"  \", \"$scope\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(\"span\", {\n    className: \"token function\"\n  }, \"$watch\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), React.createElement(\"span\", {\n    className: \"token string\"\n  }, \"'isOpen'\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \",\"), \" \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"function\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), \" value \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"{\"), \"\\n\", \"    \", \"$animate\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"[\"), \"value \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"?\"), \" \", React.createElement(\"span\", {\n    className: \"token string\"\n  }, \"'addClass'\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \":\"), \" \", React.createElement(\"span\", {\n    className: \"token string\"\n  }, \"'removeClass'\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"]\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), \"self\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), \"$element\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \",\"), \" openClass\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"\\n\", \"    \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"if\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), \" value \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"{\"), \"\\n\", \"      \", \"dropdownService\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(\"span\", {\n    className: \"token function\"\n  }, \"open\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), \" $scope \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"    \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"}\"), \" \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"else\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"{\"), \"\\n\", \"      \", \"dropdownService\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(\"span\", {\n    className: \"token function\"\n  }, \"close\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), \" $scope \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"    \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"}\"), \"\\n\", \"\\n\", \"    \", \"$scope\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(\"span\", {\n    className: \"token function\"\n  }, \"onToggle\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"{\"), \" open\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \":\"), \" \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"!\"), React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"!\"), \"value \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"}\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"  \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"}\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"\\n\", \"  \", \"$scope\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(\"span\", {\n    className: \"token function\"\n  }, \"$on\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), React.createElement(\"span\", {\n    className: \"token string\"\n  }, \"'$locationChangeSuccess'\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \",\"), \" \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"function\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"{\"), \"\\n\", \"    \", \"$scope\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), \"isOpen \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"=\"), \" \", React.createElement(\"span\", {\n    className: \"token boolean\"\n  }, \"false\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"  \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"}\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"}\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\")))), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `It's obviously `, React.createElement(MDXTag, {\n    name: \"strong\",\n    components: components,\n    parentName: \"p\"\n  }, `much`), ` bulkier than the actual directive, but it's also crystal clear what the controller is doing. Normal controller stuff!`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `One particular item of note is the `, React.createElement(\"code\", {\n    className: \"language-text\"\n  }, \"init\"), ` function. In the directive above, you probably noticed that the link function did exactly one thing:`), React.createElement(\"div\", {\n    className: \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, React.createElement(\"pre\", {\n    className: \"language-javascript\"\n  }, React.createElement(\"code\", {\n    className: \"language-javascript\"\n  }, \"dropdownCtrl\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(\"span\", {\n    className: \"token function\"\n  }, \"init\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), \"element\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\")))), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `Since you can't get at the element in the controller, this allows us to still have access to the element, but in a clean, testable, injected way.`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `If we were going to critique the controller, it might be about its access to `, React.createElement(\"code\", {\n    className: \"language-text\"\n  }, \"$element\"), ` at all. Is the controller the right place to be doing `, React.createElement(MDXTag, {\n    name: \"em\",\n    components: components,\n    parentName: \"p\"\n  }, `any`), ` DOM manipulation, even if it is ever so slight? Where else would we do that if we aren't going to do it in the `, React.createElement(\"code\", {\n    className: \"language-text\"\n  }, \"link\"), ` function or the controller?`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `It needs to go someplace, and pedantic nitpicking is just a hobby.`), React.createElement(MDXTag, {\n    name: \"h4\",\n    components: components\n  }, `Out at the boundaries`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `This facet of this clean gem of a directive sparkles bright:`), React.createElement(MDXTag, {\n    name: \"h5\",\n    components: components\n  }, `dropdownService`), React.createElement(\"div\", {\n    className: \"gatsby-highlight\",\n    \"data-language\": \"javascript\"\n  }, React.createElement(\"pre\", {\n    className: \"language-javascript\"\n  }, React.createElement(\"code\", {\n    className: \"language-javascript\"\n  }, React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(\"span\", {\n    className: \"token function\"\n  }, \"service\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), React.createElement(\"span\", {\n    className: \"token string\"\n  }, \"'dropdownService'\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \",\"), \" \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"function\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), \"$document\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"{\"), \"\\n\", \"  \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"var\"), \" self \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"=\"), \" \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"this\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \",\"), \" openScope \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"=\"), \" \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"null\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"\\n\", \"  \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"this\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(\"span\", {\n    className: \"token function-variable function\"\n  }, \"open\"), \" \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"=\"), \" \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"function\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), \" dropdownScope \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"{\"), \"\\n\", \"    \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"if\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), \" \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"!\"), \"openScope \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"{\"), \"\\n\", \"      \", \"$document\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(\"span\", {\n    className: \"token function\"\n  }, \"bind\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), React.createElement(\"span\", {\n    className: \"token string\"\n  }, \"'click'\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \",\"), \" closeDropdown\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"      \", \"$document\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(\"span\", {\n    className: \"token function\"\n  }, \"bind\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), React.createElement(\"span\", {\n    className: \"token string\"\n  }, \"'keydown'\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \",\"), \" escapeKeyBind\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"    \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"}\"), \"\\n\", \"\\n\", \"    \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"if\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), \" openScope \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"&&\"), \" openScope \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"!==\"), \" dropdownScope \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"{\"), \"\\n\", \"        \", \"openScope\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), \"isOpen \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"=\"), \" \", React.createElement(\"span\", {\n    className: \"token boolean\"\n  }, \"false\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"    \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"}\"), \"\\n\", \"\\n\", \"    \", \"openScope \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"=\"), \" dropdownScope\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"  \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"}\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"\\n\", \"  \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"this\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(\"span\", {\n    className: \"token function-variable function\"\n  }, \"close\"), \" \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"=\"), \" \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"function\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), \" dropdownScope \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"{\"), \"\\n\", \"    \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"if\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), \" openScope \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"===\"), \" dropdownScope \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"{\"), \"\\n\", \"      \", \"openScope \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"=\"), \" \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"null\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"      \", \"$document\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(\"span\", {\n    className: \"token function\"\n  }, \"unbind\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), React.createElement(\"span\", {\n    className: \"token string\"\n  }, \"'click'\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \",\"), \" closeDropdown\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"      \", \"$document\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(\"span\", {\n    className: \"token function\"\n  }, \"unbind\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), React.createElement(\"span\", {\n    className: \"token string\"\n  }, \"'keydown'\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \",\"), \" escapeKeyBind\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"    \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"}\"), \"\\n\", \"  \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"}\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"\\n\", \"  \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"var\"), \" \", React.createElement(\"span\", {\n    className: \"token function-variable function\"\n  }, \"closeDropdown\"), \" \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"=\"), \" \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"function\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"{\"), \"\\n\", \"    \", \"openScope\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), React.createElement(\"span\", {\n    className: \"token function\"\n  }, \"$apply\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"function\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"{\"), \"\\n\", \"      \", \"openScope\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), \"isOpen \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"=\"), \" \", React.createElement(\"span\", {\n    className: \"token boolean\"\n  }, \"false\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"    \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"}\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"  \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"}\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"\\n\", \"  \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"var\"), \" \", React.createElement(\"span\", {\n    className: \"token function-variable function\"\n  }, \"escapeKeyBind\"), \" \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"=\"), \" \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"function\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), \" evt \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"{\"), \"\\n\", \"    \", React.createElement(\"span\", {\n    className: \"token keyword\"\n  }, \"if\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), \" evt\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \".\"), \"which \", React.createElement(\"span\", {\n    className: \"token operator\"\n  }, \"===\"), \" \", React.createElement(\"span\", {\n    className: \"token number\"\n  }, \"27\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), \" \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"{\"), \"\\n\", \"      \", React.createElement(\"span\", {\n    className: \"token function\"\n  }, \"closeDropdown\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"(\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", \"    \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"}\"), \"\\n\", \"  \", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"}\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \";\"), \"\\n\", React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \"}\"), React.createElement(\"span\", {\n    className: \"token punctuation\"\n  }, \")\")))), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `The AngularJS 'service' is where the boundaries of our applications live.`), React.createElement(MDXTag, {\n    name: \"ul\",\n    components: components\n  }, React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, `connections to the outside world`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, `domain/data models`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, `core logic`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, `...`), React.createElement(MDXTag, {\n    name: \"li\",\n    components: components,\n    parentName: \"ul\"\n  }, `the DOM?`)), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `This actor is wonderful. It connects `, React.createElement(MDXTag, {\n    name: \"strong\",\n    components: components,\n    parentName: \"p\"\n  }, `all the dropdowns`), ` and manages their shared state. In this case, we can only have one open drop down on the page. `, React.createElement(\"code\", {\n    className: \"language-text\"\n  }, \"dropdownService\"), ` keeps track of who that is, and if another drop down is opened, it snaps the current one shut before allowing the next to open.`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `Additionally, the service listens for events on the `, React.createElement(\"code\", {\n    className: \"language-text\"\n  }, \"document\"), ` to close the open drop down if the user clicks the page or hits the `, React.createElement(\"code\", {\n    className: \"language-text\"\n  }, \"esc\"), ` key.`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `One central place to encapsulate what would otherwise be confusing spaghetti logic on line 342 of a typical directive's `, React.createElement(\"code\", {\n    className: \"language-text\"\n  }, \"link\"), ` function.`), React.createElement(MDXTag, {\n    name: \"h3\",\n    components: components\n  }, `Pause and study`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `It really pays to take pause and review a little code when you sit down to write a complex directive. For one, ui-bootstrap covers a lot of ground. The entire point of Bootstrap (proper) is to provide a robust set of `, React.createElement(MDXTag, {\n    name: \"em\",\n    components: components,\n    parentName: \"p\"\n  }, `typical`), ` components. Meaning, odds are the component you are building (at least the soul of it) is likely covered by the Boostrap component set.`), React.createElement(MDXTag, {\n    name: \"p\",\n    components: components\n  }, `ui-bootstrap conveniently provides this world class reference implementation of the most common web application components... the Angular Way™.`));\n});"}}},"pageContext":{"id":"a97572da-7de5-570d-99b3-fba76f502941","prev":{"id":"a8bef686-b427-5e8a-a66e-4fa0bcf7ebf7","parent":{"name":"2014-12-24-bootstrapping-egghead-dot-io-to-feed-my-family-2014-in-review","sourceInstanceName":"legacy"},"excerpt":"2014 Year in Review It's that time of the year. People dusting off the blog and endeavoring to capture the past 12 months of their life in a wordy nutshell. It's something that I've never participated in, but I thought I'd give it a try. I quit my…","fields":{"title":"Bootstrapping egghead.io to feed my family: 2014 in Review","slug":"2014/12/24/Bootstrapping-eggheadio-to-feed-my-family-2014-in-Review","categories":[],"date":"2014-12-24 11:12"},"code":{"scope":"/Users/joel/Code/joelhooks-com/.cache/gatsby-mdx/remote-mdx-dir/3010b3badc54a9dfa4a4c80e419a41b2.js"}},"next":{"id":"bc5ada6a-3e88-5d11-9566-75a6f9fd9531","parent":{"name":"2014-02-06-stop-writing-for-loops-start-using-underscorejs","sourceInstanceName":"legacy"},"excerpt":"How many for loops did you write today? This week? Sure. That's harmless enough. Ugly and weird, but not something to really complain about. But this is all too common: Which on the scale of bad code, isn't even  that  bad, but you start throwing…","fields":{"title":"Stop writing For loops. Start using underscore.","slug":"2014/02/06/Stop-writing-For-loops-Start-using-underscore","categories":[],"date":"2014-02-06 00:33"},"code":{"scope":"/Users/joel/Code/joelhooks-com/.cache/gatsby-mdx/remote-mdx-dir/3010b3badc54a9dfa4a4c80e419a41b2.js"}}}}